# name: CI

# on:
#   pull_request:

# jobs:
#   test:
#     runs-on: ubuntu-latest

#     services:
#       postgres:
#         image: postgis/postgis:16-3.4
#         env:
#           POSTGRES_DB: deserttrash
#           POSTGRES_USER: deserttrash
#           POSTGRES_PASSWORD: deserttrash_dev
#         ports:
#           - 5432:5432
#         options: >-
#           --health-cmd="pg_isready -U deserttrash -d deserttrash"
#           --health-interval=10s
#           --health-timeout=5s
#           --health-retries=5

#     env:
#       DATABASE_URL: postgis://deserttrash:deserttrash_dev@localhost:5432/deserttrash
#       SECRET_KEY: test-secret-key-for-ci
#       DEBUG: "True"
#       ALLOWED_HOSTS: localhost,127.0.0.1
#       MAPBOX_TOKEN: ""
#       GOOGLE_CLIENT_ID: ""
#       GOOGLE_CLIENT_SECRET: ""

#     steps:
#       - uses: actions/checkout@v4

#       - name: Install spatial libraries
#         run: |
#           sudo apt-get update
#           sudo apt-get install -y gdal-bin libgdal-dev libgeos-dev libproj-dev

#       - uses: actions/setup-python@v5
#         with:
#           python-version: "3.12"
#           cache: pip

#       - name: Install Python dependencies
#         run: pip install -r requirements.txt

#       - name: Run tests
#         run: python manage.py test
